{"ast":null,"code":"import _classCallCheck from\"/Users/sierrazang/Documents/Altcademy/ReactJS/currency-exchange-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/sierrazang/Documents/Altcademy/ReactJS/currency-exchange-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createClass\";import _inherits from\"/Users/sierrazang/Documents/Altcademy/ReactJS/currency-exchange-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/inherits\";import _createSuper from\"/Users/sierrazang/Documents/Altcademy/ReactJS/currency-exchange-app/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createSuper\";import React from'react';import currencies from'./utils/currencies';import{checkStatus,json}from'./utils/fetchUtils';import CurrencyTable from'./CurrencyTable';import CurrencyConverter from'./CurrencyConverter';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Home=/*#__PURE__*/function(_React$Component){_inherits(Home,_React$Component);var _super=_createSuper(Home);function Home(){var _this;_classCallCheck(this,Home);_this=_super.call(this);_this.changeBase=function(event){_this.setState({base:event.target.value});_this.getRatesData(event.target.value);};_this.getRatesData=function(base){_this.setState({loading:true});fetch(\"https://altexchangerateapi.herokuapp.com/latest?from=\".concat(base)).then(checkStatus).then(json).then(function(data){if(data.error){throw new Error(data.error);}var rates=Object.keys(data.rates).filter(function(acronym){return acronym!==base;}).map(function(acronym){return{acronym:acronym,rate:data.rates[acronym],name:currencies[acronym].name,symbol:currencies[acronym].symbol};});_this.setState({rates:rates,loading:false});}).catch(function(error){return console.error(error.message);});};_this.state={base:'USD',rates:null,loading:true};return _this;}_createClass(Home,[{key:\"componentDidMount\",value:function componentDidMount(){this.getRatesData(this.state.base);}},{key:\"render\",value:function render(){var _this$state=this.state,base=_this$state.base,rates=_this$state.rates,loading=_this$state.loading;return/*#__PURE__*/_jsx(React.Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"container\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"row\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-sm-6\",children:/*#__PURE__*/_jsx(CurrencyConverter,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-sm-6\",children:[/*#__PURE__*/_jsxs(\"form\",{className:\"p-3 bg-light form-inline justify-content-center\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"mb-2\",children:[\"Base currency: \",/*#__PURE__*/_jsx(\"b\",{className:\"mr-2\",children:\"1\"})]}),/*#__PURE__*/_jsx(\"select\",{value:base,onChange:this.changeBase,className:\"form-control form-control-lg mb-2\",disabled:loading,children:Object.keys(currencies).map(function(currencyAcronym){return/*#__PURE__*/_jsx(\"option\",{value:currencyAcronym,children:currencyAcronym},currencyAcronym);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"currency-table\",children:/*#__PURE__*/_jsx(CurrencyTable,{base:base,rates:rates})})]})]})})});}}]);return Home;}(React.Component);export default Home;","map":{"version":3,"sources":["/Users/sierrazang/Documents/Altcademy/ReactJS/currency-exchange-app/src/home.js"],"names":["React","currencies","checkStatus","json","CurrencyTable","CurrencyConverter","Home","changeBase","event","setState","base","target","value","getRatesData","loading","fetch","then","data","error","Error","rates","Object","keys","filter","acronym","map","rate","name","symbol","catch","console","message","state","currencyAcronym","Component"],"mappings":"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","sourcesContent":["import React from 'react';\nimport currencies from './utils/currencies';\nimport { checkStatus, json } from './utils/fetchUtils';\nimport CurrencyTable from './CurrencyTable';\nimport CurrencyConverter from './CurrencyConverter';\n\nclass Home extends React.Component {\n  constructor() {\n    super();\n    this.state = {\n      base: 'USD',\n      rates: null,\n      loading: true,\n    }\n  }\n\n  componentDidMount() {\n    this.getRatesData(this.state.base);\n  }\n\n  changeBase = (event) => {\n    this.setState({ base: event.target.value });\n    this.getRatesData(event.target.value);\n  }\n\n  getRatesData = (base) => {\n    this.setState({ loading: true });\n    fetch(`https://altexchangerateapi.herokuapp.com/latest?from=${base}`)\n      .then(checkStatus)\n      .then(json)\n      .then(data => {\n        if (data.error) {\n          throw new Error(data.error);\n        }\n\n        const rates = Object.keys(data.rates)\n          .filter(acronym => acronym !== base)\n          .map(acronym => ({\n            acronym,\n            rate: data.rates[acronym],\n            name: currencies[acronym].name,\n            symbol: currencies[acronym].symbol,\n          }))\n\n        this.setState({ rates, loading: false });\n      })\n      .catch(error => console.error(error.message));\n  }\n\n  render () {\n    const { base, rates, loading } = this.state;\n\n    return (\n      <React.Fragment>\n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-sm-6\">\n              <CurrencyConverter/>\n            </div>\n            <div className=\"col-sm-6\">\n                <form className=\"p-3 bg-light form-inline justify-content-center\">\n                  <h3 className=\"mb-2\">Base currency: <b className=\"mr-2\">1</b></h3>\n                  <select value={base} onChange={this.changeBase} className=\"form-control form-control-lg mb-2\" disabled={loading}>\n                    {Object.keys(currencies).map(currencyAcronym => <option key={currencyAcronym} value={currencyAcronym}>{currencyAcronym}</option>)}\n                  </select>\n                </form>\n                <div className=\"currency-table\">\n                <CurrencyTable base={base} rates={rates} />\n                </div>\n            </div>\n          </div>\n        </div>\n      </React.Fragment>\n    )\n  }\n}\n\nexport default Home;"]},"metadata":{},"sourceType":"module"}